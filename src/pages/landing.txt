import React, { useEffect, useState, useRef } from 'react';
import { 
  Box, Container, Typography, Button, Grid, Paper, 
  Card, CardContent, CardMedia, Avatar, Divider,
  Stack, useTheme, useMediaQuery, IconButton
} from '@mui/material';
import { 
  BarChart as ChartIcon, 
  Savings as SavingsIcon, 
  Category as CategoryIcon, 
  ShowChart as ShowChartIcon,
  CreditCard as CreditCardIcon,
  GitHub as GitHubIcon,
  LinkedIn as LinkedInIcon,
  Menu as MenuIcon,
  ArrowForward as ArrowForwardIcon,
  KeyboardArrowDown as KeyboardArrowDownIcon,
  ArrowBackIos as ArrowBackIosIcon,
  ArrowForwardIos as ArrowForwardIosIcon,
  
} from '@mui/icons-material';
import { Link as RouterLink } from 'react-router-dom';
import { motion } from 'framer-motion';
import AOS from 'aos';
import 'aos/dist/aos.css';
import { ChevronLeft, ChevronRight, Star } from 'lucide-react';
// import Slider from 'react-slick';
// import 'slick-carousel/slick/slick.css';
// import 'slick-carousel/slick/slick-theme.css';
// Import dashboard images/GIFs with proper path handling and fallback options
const dashboardImage = '/dashboard.gif'; 
const fallbackDashboardImage = '/dashbord.png'; 
const dashboardPreviewFallback = 'https://via.placeholder.com/600x400?text=Dashboard+Preview';

// Import developer profile images
const profile1 = '/profile1.png';
const profile2 = '/profile2.png';
const profileFallback = 'https://via.placeholder.com/200x200?text=Team+Member';



// Custom theme tokens
const themeColors = {
  primary: {
    main: '#2563EB', // Modern blue
    light: '#60A5FA',
    dark: '#1E40AF',
    contrastText: '#FFFFFF'
  },
  secondary: {
    main: '#EC4899', // Vibrant pink
    light: '#F9A8D4',
    dark: '#BE185D'
  },
  success: {
    main: '#10B981', // Modern green
    light: '#6EE7B7'
  },
  background: {
    default: '#F9FAFB',
    paper: '#FFFFFF',
    dark: '#111827',
    gradient: 'linear-gradient(45deg, #2563EB, #3B82F6)'
  },
  text: {
    primary: '#1F2937',
    secondary: '#4B5563'
  }
};

// Dashboard Image component with GIF support and better error handling
const DashboardPreview = () => {
  const [currentImage, setCurrentImage] = useState(dashboardImage);
  const [imageError, setImageError] = useState(false);

  const handleImageError = () => {
    if (currentImage === dashboardImage && !imageError) {
      setCurrentImage(fallbackDashboardImage);
      setImageError(true);
    } else if (currentImage === fallbackDashboardImage) {
      setCurrentImage(dashboardPreviewFallback);
    }
  };

  return (
    <Box
      sx={{
        position: 'relative',
        '&::after': {
          content: '""',
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          background: 'linear-gradient(180deg, rgba(37,99,235,0) 85%, rgba(37,99,235,0.1) 100%)',
          borderRadius: '1rem',
          pointerEvents: 'none'
        }
      }}
    >
      <img 
        src={currentImage} 
        alt="Expense Tracker Dashboard" 
        style={{ 
          width: '100%',
          height: 'auto',
          display: 'block',
          transition: 'all 0.3s ease',
          borderRadius: '1rem',
          boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)'
        }}
        onError={handleImageError}
      />
      <Box 
        sx={{
          position: 'absolute',
          bottom: '5%',
          right: '5%',
          bgcolor: 'rgba(0,0,0,0.7)',
          color: '#fff',
          px: 2,
          py: 0.8,
          borderRadius: '2rem',
          fontSize: '0.75rem',
          fontWeight: 'bold',
          backdropFilter: 'blur(4px)',
          boxShadow: '0 4px 12px rgba(0,0,0,0.1)',
          animation: 'pulse 2s infinite ease-in-out'
        }}
      >
        LIVE PREVIEW
      </Box>
    </Box>
  );
};

// Hero section with enhanced visuals
// HeroSection component with darker background and refined patterns
const HeroSection = () => {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  const [isGifLoaded, setIsGifLoaded] = useState(false);

  useEffect(() => {
    const img = new Image();
    img.onload = () => setIsGifLoaded(true);
    img.onerror = () => setIsGifLoaded(false);
    img.src = dashboardImage;
    
    return () => {
      img.onload = null;
      img.onerror = null;
    };
  }, []);

  // Create global CSS for patterns
  useEffect(() => {
    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes gradientBG {
        0% { background-position: 0% 50% }
        50% { background-position: 100% 50% }
        100% { background-position: 0% 50% }
      }
      
      .hero-pattern {
        background-image: 
          radial-gradient(circle at 20% 30%, rgba(82, 113, 255, 0.3) 0%, rgba(82, 113, 255, 0) 50%),
          radial-gradient(circle at 80% 70%, rgba(82, 113, 255, 0.3) 0%, rgba(82, 113, 255, 0) 50%),
          linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
          linear-gradient(135deg, #324bb0 0%, #4152c9 50%, #324bb0 100%);
        background-size: 600px 600px, 600px 600px, 25px 25px, 25px 25px, 400% 400%;
        background-position: 0 0, 0 0, 0 0, 0 0, 0% 50%;
        animation: gradientBG 20s ease infinite;
      }
      
      .top-pattern {
        background-image: 
          linear-gradient(to bottom, transparent, rgba(82, 113, 255, 0.1)),
          radial-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px);
        background-size: 100% 100%, 20px 20px;
      }
      
      .wave-pattern {
        background: linear-gradient(to right, rgba(82, 113, 255, 0.2), rgba(82, 113, 255, 0.4), rgba(82, 113, 255, 0.2));
        border-radius: 100% 100% 0 0;
      }
    `;
    document.head.appendChild(style);
    
    return () => {
      document.head.removeChild(style);
    };
  }, []);

  return (
    <Box 
      className="hero-pattern"
      sx={{ 
        minHeight: '100vh',
        pt: { xs: '80px', md: '100px' },
        pb: { xs: 10, md: 14 },
        position: 'relative',
        overflow: 'hidden',
        color: 'white'
      }}
    >
      {/* Top pattern */}
      <Box 
        className="top-pattern"
        sx={{
          position: 'absolute',
          top: 0,
          left: 0,
          right: 0,
          height: '250px',
          zIndex: 0,
        }}
      />
      
      {/* Abstract geometric shapes */}
      <Box 
        sx={{
          position: 'absolute',
          top: '15%',
          left: '5%',
          width: '250px',
          height: '250px',
          borderRadius: '30%',
          background: 'linear-gradient(45deg, rgba(82, 113, 255, 0.1), rgba(255, 255, 255, 0.05))',
          transform: 'rotate(15deg)',
          zIndex: 0,
          boxShadow: 'inset 0 0 30px rgba(255, 255, 255, 0.1)',
          backdropFilter: 'blur(10px)'
        }}
      />
      
      <Box 
        sx={{
          position: 'absolute',
          top: '50%',
          right: '8%',
          width: '200px',
          height: '200px',
          borderRadius: '20%',
          background: 'linear-gradient(135deg, rgba(82, 113, 255, 0.1), rgba(255, 255, 255, 0.05))',
          transform: 'rotate(30deg) translateY(-50%)',
          zIndex: 0,
          boxShadow: 'inset 0 0 20px rgba(255, 255, 255, 0.1)',
          backdropFilter: 'blur(10px)'
        }}
      />
      
      {/* Bottom wave patterns */}
      <Box
        sx={{
          position: 'absolute',
          bottom: 0,
          left: 0,
          right: 0,
          height: '200px',
          zIndex: 0,
          overflow: 'hidden',
        }}
      >
        <Box
          className="wave-pattern"
          sx={{
            position: 'absolute',
            bottom: 0,
            left: '-10%',
            width: '120%',
            height: '200px',
            opacity: 0.3,
          }}
        />
        <Box
          className="wave-pattern"
          sx={{
            position: 'absolute',
            bottom: 0,
            left: '-5%',
            width: '110%',
            height: '120px',
            opacity: 0.5,
          }}
        />
      </Box>
      
      {/* Subtle light streaks */}
      <Box
        sx={{
          position: 'absolute',
          top: 0,
          left: '30%',
          width: '2px',
          height: '30%',
          background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent)',
          opacity: 0.4,
          zIndex: 0,
        }}
      />
      
      <Box
        sx={{
          position: 'absolute',
          top: '20%',
          right: '40%',
          width: '1px',
          height: '40%',
          background: 'linear-gradient(to bottom, rgba(255, 255, 255, 0.2), transparent)',
          opacity: 0.3,
          zIndex: 0,
        }}
      />
      
      <Container maxWidth="lg" sx={{ position: 'relative', zIndex: 1 }}>
        <Grid container spacing={6} alignItems="center">
          <Grid item xs={12} md={6}>
            <Box
              component={motion.div}
              initial={{ opacity: 0, y: 30 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.6 }}
              sx={{ maxWidth: '600px' }}
            >
              <Box
                sx={{
                  display: 'inline-flex',
                  alignItems: 'center',
                  background: 'rgba(255,255,255,0.1)',
                  px: 2,
                  py: 1,
                  borderRadius: '100px',
                  backdropFilter: 'blur(8px)',
                  mb: 4
                }}
              >
                <Box
                  sx={{
                    width: 8,
                    height: 8,
                    borderRadius: '50%',
                    bgcolor: '#10B981',
                    mr: 1
                  }}
                />
                <Typography
                  sx={{
                    fontSize: '0.9rem',
                    fontWeight: 600,
                    color: 'white'
                  }}
                >
                  Now Available — Version 2.0
                </Typography>
              </Box>
              
              <Typography 
                variant="h1" 
                component="h1" 
                sx={{ 
                  fontWeight: 800,
                  fontSize: { xs: '2.5rem', sm: '3rem', md: '3.75rem', lg: '4.5rem' },
                  lineHeight: 1.1,
                  mb: 3,
                  letterSpacing: '-0.02em',
                  color: 'white',
                  textShadow: '0 4px 8px rgba(0,0,0,0.2)',
                  position: 'relative',
                  display: 'inline-block',
                  maxWidth: '600px',
                  '&::after': {
                    content: '""',
                    position: 'absolute',
                    bottom: -10,
                    left: 0,
                    width: '80px',
                    height: '4px',
                    background: 'linear-gradient(to right, rgba(255,255,255,0.8), rgba(255,255,255,0.2))',
                    borderRadius: '2px',
                  }
                }}
              >
                Take Control of Your Finances
              </Typography>
              <Typography 
                variant="h5" 
                sx={{ 
                  fontWeight: 400,
                  mb: 5,
                  maxWidth: '540px',
                  color: 'rgba(255,255,255,0.9)',
                  fontSize: { xs: '1.1rem', md: '1.25rem' },
                  lineHeight: 1.7
                }}
              >
                Track expenses, manage budgets, and achieve your financial goals with our intuitive, all-in-one expense tracker.
              </Typography>
              
              <Box 
                sx={{ 
                  display: 'flex', 
                  flexWrap: 'wrap',
                  gap: 2,
                  mb: 6
                }}
              >
                <Button 
                  component={RouterLink}
                  to="/register"
                  variant="contained"
                  size="large"
                  sx={{ 
                    bgcolor: 'white',
                    color: '#324bb0',
                    px: 4,
                    py: 1.5,
                    borderRadius: '10px',
                    fontWeight: 600,
                    fontSize: '1rem',
                    textTransform: 'none',
                    boxShadow: '0 10px 20px rgba(0,0,0,0.15)',
                    '&:hover': {
                      bgcolor: 'rgba(255,255,255,0.9)',
                      transform: 'translateY(-3px)',
                      boxShadow: '0 15px 30px rgba(0,0,0,0.2)'
                    },
                    transition: 'all 0.3s ease'
                  }}
                  endIcon={<ArrowForwardIcon />}
                >
                  Get Started Free
                </Button>
                
                <Button 
                  component={RouterLink}
                  to="/how-it-works"
                  variant="outlined"
                  size="large"
                  sx={{ 
                    borderColor: 'rgba(255,255,255,0.6)',
                    color: 'white',
                    px: 4,
                    py: 1.5,
                    borderRadius: '10px',
                    fontWeight: 600,
                    fontSize: '1rem',
                    textTransform: 'none',
                    '&:hover': {
                      bgcolor: 'rgba(255,255,255,0.1)',
                      borderColor: 'white'
                    }
                  }}
                  endIcon={<KeyboardArrowDownIcon />}
                >
                  See How it Works
                </Button>
              </Box>
              
              <Box sx={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap' }}>
                <Box sx={{ display: 'flex', alignItems: 'center', mr: 4, mb: { xs: 2, md: 0 } }}>
                  <Box sx={{ display: 'flex', mr: 1 }}>
                    {[...Array(5)].map((_, i) => (
                      <Box key={i} sx={{ color: '#F59E0B', fontSize: '1rem' }}>★</Box>
                    ))}
                  </Box>
                  <Typography sx={{ color: 'rgba(255,255,255,0.9)', fontWeight: 500 }}>
                    4.9 out of 5 stars
                  </Typography>
                </Box>
                <Box sx={{ display: 'flex', alignItems: 'center' }}>
                  <Box sx={{ display: 'flex', mr: 2 }}>
                    {[...Array(4)].map((_, i) => (
                      <Avatar
                        key={i}
                        src={`https://i.pravatar.cc/150?img=${i + 10}`}
                        sx={{
                          width: 28,
                          height: 28,
                          border: '2px solid #324bb0',
                          ml: i > 0 ? -1 : 0
                        }}
                      />
                    ))}
                  </Box>
                  <Typography sx={{ color: 'rgba(255,255,255,0.9)', fontWeight: 500 }}>
                    Trusted by 10,000+ users
                  </Typography>
                </Box>
              </Box>
            </Box>
          </Grid>
          
          <Grid item xs={12} md={6}>
            <Box
              component={motion.div}
              variants={floatingAnimation}
              animate="animate"
              sx={{ 
                position: 'relative',
                zIndex: 1,
                mt: { xs: 4, md: 0 },
                maxWidth: '600px',
                mx: 'auto'
              }}
            >
              <Box
                component={motion.div}
                animate={pulseAnimation.animate}
                sx={{
                  position: 'relative',
                  border: '1px solid rgba(255,255,255,0.2)',
                  borderRadius: '1rem',
                  p: 1,
                  boxShadow: '0 25px 50px rgba(0,0,0,0.25), 0 10px 25px rgba(0,0,0,0.15)',
                  background: 'rgba(255,255,255,0.95)',
                  backdropFilter: 'blur(8px)',
                  overflow: 'hidden'
                }}
              >
                <DashboardPreview />
              </Box>
              
              {/* Feature highlight callouts */}
              <Box
                sx={{
                  position: 'absolute',
                  bottom: -20,
                  left: -30,
                  background: 'rgba(255,255,255,0.95)',
                  backdropFilter: 'blur(8px)',
                  borderRadius: '12px',
                  p: 2,
                  boxShadow: '0 10px 25px rgba(0,0,0,0.1)',
                  display: { xs: 'none', md: 'flex' },
                  alignItems: 'center',
                  border: '1px solid rgba(255,255,255,0.3)',
                  zIndex: 2,
                  maxWidth: '220px'
                }}
                data-aos="fade-up"
                data-aos-delay="600"
              >
                <Box
                  sx={{
                    width: 40,
                    height: 40,
                    borderRadius: '10px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    background: 'rgba(16,185,129,0.1)',
                    color: themeColors.success.main,
                    mr: 2
                  }}
                >
                  <ChartIcon />
                </Box>
                <Box>
                  <Typography
                    sx={{
                      fontWeight: 700,
                      fontSize: '0.9rem',
                      color: themeColors.text.primary,
                      mb: 0.5
                    }}
                  >
                    Visual Analytics
                  </Typography>
                  <Typography
                    sx={{
                      fontSize: '0.8rem',
                      color: themeColors.text.secondary
                    }}
                  >
                    Interactive charts reveal your spending patterns
                  </Typography>
                </Box>
              </Box>
              
              <Box
                sx={{
                  position: 'absolute',
                  top: 40,
                  right: -20,
                  background: 'rgba(255,255,255,0.95)',
                  backdropFilter: 'blur(8px)',
                  borderRadius: '12px',
                  p: 2,
                  boxShadow: '0 10px 25px rgba(0,0,0,0.1)',
                  display: { xs: 'none', md: 'flex' },
                  alignItems: 'center',
                  border: '1px solid rgba(255,255,255,0.3)',
                  zIndex: 2,
                  maxWidth: '220px'
                }}
                data-aos="fade-up"
                data-aos-delay="800"
              >
                <Box
                  sx={{
                    width: 40,
                    height: 40,
                    borderRadius: '10px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    background: 'rgba(139,92,246,0.1)',
                    color: '#8B5CF6',
                    mr: 2
                  }}
                >
                  <SavingsIcon />
                </Box>
                <Box>
                  <Typography
                    sx={{
                      fontWeight: 700,
                      fontSize: '0.9rem',
                      color: themeColors.text.primary,
                      mb: 0.5
                    }}
                  >
                    Budget Planning
                  </Typography>
                  <Typography
                    sx={{
                      fontSize: '0.8rem',
                      color: themeColors.text.secondary
                    }}
                  >
                    Set custom budgets for each category
                  </Typography>
                </Box>
              </Box>
            </Box>
          </Grid>
        </Grid>
      </Container>
    </Box>
  );
};
// Main Landing component
const Landing = () => {
  // Initialize AOS for scrolling animations
  useEffect(() => {
    AOS.init({
      duration: 800,
      easing: 'ease-out',
      once: false,
      mirror: false,
      offset: 120,
    });
    
    // Refresh AOS when components update
    AOS.refresh();
    
    // Create global CSS for animations
    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes pulse {
        0% { opacity: 0.6; transform: scale(0.9); }
        50% { opacity: 0.3; transform: scale(1.1); }
        100% { opacity: 0.6; transform: scale(0.9); }
      }
      
      @keyframes line-shine {
        0% { transform: translateY(-100%); }
        100% { transform: translateY(100%); }
      }
      
      @keyframes float {
        0% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
        100% { transform: translateY(0); }
      }
      
      @keyframes button-pulse {
        0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); }
        70% { box-shadow: 0 0 0 15px rgba(37, 99, 235, 0); }
        100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); }
      }
      
      .pulse-animation {
        animation: button-pulse 2s infinite;
      }
    `;
    document.head.appendChild(style);
    
    return () => {
      document.head.removeChild(style);
    };
  }, []);

  return (
    <Box sx={{ bgcolor: themeColors.background.default, overflow: 'hidden' }}>
      {/* Navbar */}
      <Navbar />
      
      {/* Hero Section */}
      <HeroSection />
      
      {/* Features Section */}
      <FeaturesSection />
      
      {/* How It Works */}
      <HowItWorksSection />
      
      {/* Testimonials */}
      <TestimonialSection />
      
      {/* Team Section */}
      <TeamSection />
      
      {/* CTA Section */}
      <CTASection />
      
      {/* Footer */}
      <Footer />
    </Box>
  );
};

export default Landing;

// Developer profiles
const developers = [
  {
    name: 'Kylle Acutb',
    role: 'Backend Developer',
    image: profile2,
    bio: 'Experienced Laravel developer specializing in RESTful API development, database optimization, and secure authentication systems.',
    github: 'https://github.com',
    linkedin: 'https://linkedin.com'
  },
  {
    name: 'Applegay Delicano',
    role: 'Frontend Developer',
    image: profile1,
    bio: 'React specialist with expertise in Material UI, responsive design, and creating intuitive user experiences for web applications.',
    github: 'https://github.com',
    linkedin: 'https://linkedin.com'
  }
];

// Features list with enhanced data
const features = [
  {
    title: 'Expense Tracking',
    description: 'Record and categorize your daily expenses with just a few clicks',
    icon: <CreditCardIcon fontSize="large" sx={{ color: themeColors.primary.main }} />,
    color: 'linear-gradient(135deg, rgba(37,99,235,0.1), rgba(37,99,235,0.2))'
  },
  {
    title: 'Custom Categories',
    description: 'Create and manage custom categories with color coding',
    icon: <CategoryIcon fontSize="large" sx={{ color: themeColors.success.main }} />,
    color: 'linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.2))'
  },
  {
    title: 'Visual Analytics',
    description: 'Visualize your spending patterns with interactive charts',
    icon: <ChartIcon fontSize="large" sx={{ color: themeColors.secondary.main }} />,
    color: 'linear-gradient(135deg, rgba(236,72,153,0.1), rgba(236,72,153,0.2))'
  },
  {
    title: 'Budget Planning',
    description: 'Set budgets for different expense categories and track your progress',
    icon: <SavingsIcon fontSize="large" sx={{ color: '#8B5CF6' }} />,
    color: 'linear-gradient(135deg, rgba(139,92,246,0.1), rgba(139,92,246,0.2))'
  },
  {
    title: 'Spending Trends',
    description: 'Identify spending trends and opportunities to save money',
    icon: <ShowChartIcon fontSize="large" sx={{ color: '#F59E0B' }} />,
    color: 'linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.2))'
  }
];

// Testimonials
const testimonials = [
  {
    name: 'Sarah Johnson',
    position: 'Marketing Manager',
    avatar: 'https://i.pravatar.cc/150?img=32',
    quote: "This expense tracker completely revolutionized how I manage my personal finances. The visual analytics make it easy to see where my money goes.",
    rating: 5
  },
  {
    name: 'Michael Chen',
    position: 'Software Engineer',
    avatar: 'https://i.pravatar.cc/150?img=11',
    quote: "As someone who loves data, I appreciate the detailed reports and insights this app provides. Setting up custom categories was a game-changer.",
    rating: 5
  },
  {
    name: 'Emily Rodriguez',
    position: 'Freelance Designer',
    avatar: 'https://i.pravatar.cc/150?img=5',
    quote: "Keeping track of business expenses was always a challenge until I found this app. Now I can separate personal and business expenses effortlessly.",
    rating: 4
  },
  {
    name: 'James Wilson',
    position: 'DevOps Engineer',
    avatar: 'https://i.pravatar.cc/150?img=13',
    quote: "I've tried many expense tracking apps, but this one strikes the perfect balance between powerful features and ease of use. The streak visualizations keep me motivated.",
    rating: 5
  },
  {
    name: 'Priya Sharma',
    position: 'Full Stack Developer',
    avatar: 'https://i.pravatar.cc/150?img=23',
    quote: "The data visualization helps me understand my spending patterns better than any app I've used before. It's like having a personal financial coach in your pocket.",
    rating: 5
  }
];

const TestimonialSection = () => {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  
  const [activeIndex, setActiveIndex] = useState(0);
  const [isAnimating, setIsAnimating] = useState(false);
  const [direction, setDirection] = useState('next');
  const [touchStart, setTouchStart] = useState(0);
  const [touchEnd, setTouchEnd] = useState(0);

  const handlePrev = () => {
    if (isAnimating) return;
    setDirection('prev');
    setIsAnimating(true);
    setTimeout(() => {
      setActiveIndex((prev) => (prev === 0 ? testimonials.length - 1 : prev - 1));
      setIsAnimating(false);
    }, 300);
  };
  
  const handleNext = () => {
    if (isAnimating) return;
    setDirection('next');
    setIsAnimating(true);
    setTimeout(() => {
      setActiveIndex((prev) => (prev === testimonials.length - 1 ? 0 : prev + 1));
      setIsAnimating(false);
    }, 300);
  };

  // Auto-advance slides
  useEffect(() => {
    const timer = setTimeout(() => {
      handleNext();
    }, 5000);
    
    return () => clearTimeout(timer);
  }, [activeIndex]);

  // Touch event handlers for mobile swipe
  const handleTouchStart = (e) => {
    setTouchStart(e.targetTouches[0].clientX);
  };
  
  const handleTouchMove = (e) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };
  
  const handleTouchEnd = () => {
    if (touchStart - touchEnd > 50) {
      // Swipe left
      handleNext();
    }
    
    if (touchStart - touchEnd < -50) {
      // Swipe right
      handlePrev();
    }
  };
  
  return (
    <Box 
      sx={{ 
        py: { xs: 10, md: 14 }, 
        background: 'linear-gradient(180deg, #F3F4F6 0%, #FFFFFF 100%)',
        position: 'relative', 
        overflow: 'hidden' 
      }}
    >
      {/* Background decorative elements */}
      <Box 
        sx={{
          position: 'absolute',
          width: '400px',
          height: '400px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(37,99,235,0.05) 0%, rgba(37,99,235,0) 70%)',
          top: '15%',
          right: '-200px',
          zIndex: 0
        }}
      />
      <Box 
        sx={{
          position: 'absolute',
          width: '500px',
          height: '500px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(37,99,235,0.03) 0%, rgba(37,99,235,0) 70%)',
          bottom: '-250px',
          left: '-250px',
          zIndex: 0
        }}
      />
      
      <Container maxWidth="lg" sx={{ position: 'relative', zIndex: 1 }}>
        <Box 
          sx={{ textAlign: 'center', mb: 8 }}
          data-aos="fade-up"
        >
          <Typography 
            component="span"
            sx={{
              display: 'block',
              textTransform: 'uppercase',
              color: theme.palette.primary.main,
              fontWeight: 700,
              fontSize: '0.875rem',
              letterSpacing: '0.1em',
              mb: 2
            }}
          >
            TESTIMONIALS
          </Typography>
          <Typography 
            variant="h2" 
            component="h2" 
            sx={{ 
              fontWeight: 800,
              mb: 3,
              fontSize: { xs: '2.5rem', md: '3.5rem' },
              letterSpacing: '-0.02em',
              lineHeight: 1.2,
              color: theme.palette.text.primary
            }}
          >
            What Our Users Say
          </Typography>
          <Typography 
            variant="h6" 
            sx={{ 
              color: theme.palette.text.secondary,
              maxWidth: '700px',
              mx: 'auto',
              px: 2,
              fontSize: { xs: '1rem', md: '1.25rem' },
              fontWeight: 400,
              lineHeight: 1.6
            }}
          >
            Join thousands of satisfied users who've transformed their financial habits
          </Typography>
        </Box>
        
        {/* Testimonial Slider */}
        <Box 
          sx={{ 
            position: 'relative', 
            maxWidth: '900px', 
            mx: 'auto',
            my: 8,
            px: { xs: 2, md: 8 }
          }}
          onTouchStart={handleTouchStart}
          onTouchMove={handleTouchMove}
          onTouchEnd={handleTouchEnd}
        >
          <Box
            sx={{
              position: 'relative',
              height: { xs: '380px', md: '280px' },
              overflow: 'hidden'
            }}
          >
            {testimonials.map((testimonial, index) => (
              <Box
                key={index}
                component={motion.div}
                initial={{ opacity: 0, x: direction === 'next' ? 100 : -100 }}
                animate={{ 
                  opacity: activeIndex === index ? 1 : 0,
                  x: activeIndex === index ? 0 : (activeIndex > index ? -100 : 100),
                  position: activeIndex === index ? 'relative' : 'absolute'
                }}
                transition={{ duration: 0.5, ease: "easeOut" }}
                sx={{
                  width: '100%',
                  top: 0,
                  left: 0,
                  right: 0,
                  height: '100%',
                  display: 'flex',
                  justifyContent: 'center',
                  alignItems: 'center'
                }}
              >
                <Box
                  sx={{
                    width: '100%',
                    height: { xs: '360px', md: '260px' },
                    borderRadius: '1rem',
                    boxShadow: '0 15px 40px rgba(0,0,0,0.08)',
                    bgcolor: 'white',
                    transition: 'all 0.3s ease',
                    position: 'relative',
                    overflow: 'visible',
                    p: 4,
   
                  }}
                >
                  <Box sx={{ display: 'flex', mb: 3, alignItems: 'center' }}>
                    <Box sx={{ position: 'relative' }}>
                      <Avatar 
                        src={testimonial.avatar} 
                        alt={testimonial.name}
                        sx={{ 
                          width: 64, 
                          height: 64,
                          border: '3px solid white',
                          boxShadow: '0 4px 10px rgba(0,0,0,0.1)'
                        }}
                      />
                      <Box 
                        sx={{
                          position: 'absolute',
                          right: -5,
                          bottom: -5,
                          width: 24,
                          height: 24,
                          borderRadius: '50%',
                          bgcolor: theme.palette.primary.main,
                          color: 'white',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          fontSize: '0.75rem',
                          fontWeight: 'bold',
                          boxShadow: '0 2px 8px rgba(0,0,0,0.15)'
                        }}
                      >
                        {index + 1}
                      </Box>
                    </Box>
                    <Box sx={{ ml: 2 }}>
                      <Typography variant="h6" sx={{ fontWeight: 700, color: theme.palette.text.primary }}>
                        {testimonial.name}
                      </Typography>
                      <Typography variant="body2" sx={{ color: theme.palette.primary.main }}>
                        {testimonial.position}
                      </Typography>
                    </Box>
                  </Box>
                  
                  <Typography 
                    variant="body1" 
                    sx={{ 
                      mb: 3, 
                      lineHeight: 1.7,
                      color: theme.palette.text.primary,
                      fontStyle: 'italic',
                      fontSize: '1.05rem'
                    }}
                  >
                    "{testimonial.quote}"
                  </Typography>
                  
                  <Box sx={{ display: 'flex', alignItems: 'center' }}>
                    {[...Array(5)].map((_, i) => (
                      <Box 
                        key={i} 
                        sx={{ 
                          color: i < testimonial.rating ? '#F59E0B' : 'rgba(0,0,0,0.2)',
                          mr: 0.5,
                          display: 'flex'
                        }}
                      >
                        <Star 
                          size={18}
                          fill={i < testimonial.rating ? "#F59E0B" : "none"} 
                          stroke={i < testimonial.rating ? "#F59E0B" : "#CBD5E1"}
                        />
                      </Box>
                    ))}
                  </Box>
                </Box>
              </Box>
            ))}
          </Box>

          {/* Navigation buttons */}
          <Box sx={{ 
            display: 'flex', 
            justifyContent: 'center', 
            mt: 4,
            gap: 2
          }}>
            <IconButton 
              onClick={handlePrev}
              sx={{ 
                position: 'absolute',
                top: '50%',
                left: { xs: 0, md: -30 },
                transform: 'translateY(-50%)',
                bgcolor: 'white', 
                boxShadow: '0 4px 12px rgba(0,0,0,0.08)',
                '&:hover': {
                  bgcolor: theme.palette.primary.main,
                  color: 'white'
                },
                transition: 'all 0.3s ease',
                zIndex: 2
              }}
              aria-label="Previous testimonial"
            >
              <ArrowBackIosIcon fontSize="small" />
            </IconButton>
            
            {/* Pagination dots */}
            <Box 
              sx={{ 
                display: 'flex', 
                alignItems: 'center', 
                justifyContent: 'center',
                gap: 1,
                mt: 4
              }}
            >
              {testimonials.map((_, index) => (
                <Box 
                  key={index}
                  onClick={() => {
                    setDirection(index > activeIndex ? 'next' : 'prev');
                    setActiveIndex(index);
                  }}
                  sx={{
                    width: activeIndex === index ? 24 : 10,
                    height: 10,
                    borderRadius: '100px',
                    bgcolor: activeIndex === index ? theme.palette.primary.main : 'rgba(37,99,235,0.2)',
                    cursor: 'pointer',
                    transition: 'all 0.3s ease'
                  }}
                />
              ))}
            </Box>
            
            <IconButton 
              onClick={handleNext}
              sx={{ 
                position: 'absolute',
                top: '50%',
                right: { xs: 0, md: -30 },
                transform: 'translateY(-50%)',
                bgcolor: 'white', 
                boxShadow: '0 4px 12px rgba(0,0,0,0.08)',
                '&:hover': {
                  bgcolor: theme.palette.primary.main,
                  color: 'white'
                },
                transition: 'all 0.3s ease',
                zIndex: 2
              }}
              aria-label="Next testimonial"
            >
              <ArrowForwardIosIcon fontSize="small" />
            </IconButton>
          </Box>
        </Box>
      </Container>

      {/* Custom CSS for animations */}
      <style jsx global>{`
        @keyframes float {
          0% { transform: translateY(0); }
          50% { transform: translateY(-8px); }
          100% { transform: translateY(0); }
        }
      `}</style>
    </Box>
  );
};

// Animation variants
const fadeInUp = {
  hidden: { opacity: 0, y: 60 },
  visible: { 
    opacity: 1, 
    y: 0,
    transition: { duration: 0.6, ease: "easeOut" }
  }
};

const staggerContainer = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.2
    }
  }
};

const fadeIn = {
  hidden: { opacity: 0 },
  visible: { 
    opacity: 1,
    transition: { duration: 0.6 }
  }
};

const scaleUp = {
  hidden: { scale: 0.8, opacity: 0 },
  visible: { 
    scale: 1,
    opacity: 1,
    transition: { duration: 0.5 }
  }
};

// Enhanced floating animation for hero image/GIF
const floatingAnimation = {
  animate: {
    y: [0, -15, 0],
    transition: {
      duration: 4,
      repeat: Infinity,
      repeatType: "reverse",
      ease: "easeInOut"
    }
  }
};

// Pulse animation for GIF highlight
const pulseAnimation = {
  animate: {
    boxShadow: [
      '0 10px 30px rgba(37,99,235,0.3)',
      '0 15px 40px rgba(37,99,235,0.5)',
      '0 10px 30px rgba(37,99,235,0.3)'
    ],
    transition: {
      duration: 2,
      repeat: Infinity,
      repeatType: "reverse",
      ease: "easeInOut"
    }
  }
};

// Modern Navbar with glass morphism effect
const Navbar = () => {
  const [menuOpen, setMenuOpen] = useState(false);
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  const [scrolled, setScrolled] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 50) {
        setScrolled(true);
      } else {
        setScrolled(false);
      }
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <Box 
      sx={{ 
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        zIndex: 1100,
        transition: 'all 0.3s ease',
        bgcolor: scrolled ? 'rgba(255, 255, 255, 0.85)' : 'transparent',
        backdropFilter: scrolled ? 'blur(10px)' : 'none',
        boxShadow: scrolled ? '0 4px 30px rgba(0, 0, 0, 0.1)' : 'none',
      }}
    >
      <Container maxWidth="lg">
        <Box 
          sx={{ 
            display: 'flex', 
            justifyContent: 'space-between', 
            alignItems: 'center',
            py: scrolled ? 1.5 : 2,
            transition: 'all 0.3s ease'
          }}
        >
          <Box
            component={motion.div}
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5 }}
            sx={{ 
              display: 'flex',
              alignItems: 'center'
            }}
          >
            <Box
              sx={{
                width: 40,
                height: 40,
                background: 'linear-gradient(45deg, #2563EB, #60A5FA)',
                borderRadius: '12px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                boxShadow: '0 4px 10px rgba(37, 99, 235, 0.3)',
                mr: 1.5
              }}
            >
              <SavingsIcon sx={{ color: 'white' }} />
            </Box>
            <Typography 
              variant="h5" 
              sx={{ 
                fontWeight: 800,
                color: scrolled ? themeColors.text.primary : themeColors.primary.main,
                fontSize: { xs: '1.2rem', md: '1.5rem' },
                background: scrolled ? 'none' : 'linear-gradient(45deg, #2563EB, #60A5FA)',
                backgroundClip: scrolled ? 'none' : 'text',
                WebkitBackgroundClip: scrolled ? 'none' : 'text',
                WebkitTextFillColor: scrolled ? 'inherit' : 'transparent',
                letterSpacing: '-0.5px'
              }}
            >
              ExpenseTracker
            </Typography>
          </Box>

          {isMobile ? (
            <IconButton 
              onClick={() => setMenuOpen(!menuOpen)}
              sx={{ color: themeColors.primary.main }}
            >
              <MenuIcon />
            </IconButton>
          ) : (
            <Box
              component={motion.div}
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              transition={{ duration: 0.5 }}
              sx={{ 
                display: 'flex',
                alignItems: 'center',
                gap: 3
              }}
            >
              <Box sx={{ display: 'flex', gap: 3 }}>
                <Typography 
                  component={RouterLink} 
                  to="/features"
                  sx={{ 
                    color: themeColors.text.secondary,
                    textDecoration: 'none',
                    fontWeight: 500,
                    position: 'relative',
                    '&:hover': {
                      color: themeColors.primary.main,
                      '&::after': {
                        width: '100%'
                      }
                    },
                    '&::after': {
                      content: '""',
                      position: 'absolute',
                      bottom: -4,
                      left: 0,
                      width: 0,
                      height: 2,
                      bgcolor: themeColors.primary.main,
                      transition: 'width 0.3s ease'
                    }
                  }}
                >
                  Features
                </Typography>
                <Typography 
                  component={RouterLink} 
                  to="/about"
                  sx={{ 
                    color: themeColors.text.secondary,
                    textDecoration: 'none',
                    fontWeight: 500,
                    position: 'relative',
                    '&:hover': {
                      color: themeColors.primary.main,
                      '&::after': {
                        width: '100%'
                      }
                    },
                    '&::after': {
                      content: '""',
                      position: 'absolute',
                      bottom: -4,
                      left: 0,
                      width: 0,
                      height: 2,
                      bgcolor: themeColors.primary.main,
                      transition: 'width 0.3s ease'
                    }
                  }}
                >
                  About
                </Typography>
              </Box>
              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>
                <Button 
                  component={RouterLink} 
                  to="/login"
                  sx={{ 
                    fontWeight: 600,
                    color: themeColors.primary.main,
                    '&:hover': {
                      background: 'rgba(37, 99, 235, 0.08)'
                    }
                  }}
                >
                  Log in
                </Button>
                <Button 
                  component={RouterLink} 
                  to="/register"
                  variant="contained"
                  sx={{ 
                    background: 'linear-gradient(45deg, #2563EB, #3B82F6)',
                    fontWeight: 600,
                    borderRadius: '8px',
                    px: 3,
                    py: 1,
                    boxShadow: '0 4px 14px rgba(37, 99, 235, 0.4)',
                    textTransform: 'none',
                    '&:hover': {
                      boxShadow: '0 6px 20px rgba(37, 99, 235, 0.6)'
                    }
                  }}
                >
                  Sign up free
                </Button>
              </Box>
            </Box>
          )}
        </Box>
      </Container>

      {/* Mobile menu */}
      {isMobile && (
        <Box
          sx={{
            height: menuOpen ? '100vh' : 0,
            overflow: 'hidden',
            transition: 'height 0.3s ease-in-out',
            bgcolor: 'white',
            borderTop: menuOpen ? '1px solid #F3F4F6' : 'none'
          }}
        >
          <Container>
            <Box sx={{ py: 4, display: 'flex', flexDirection: 'column', gap: 3 }}>
              <Typography 
                component={RouterLink} 
                to="/features"
                sx={{ 
                  color: themeColors.text.primary,
                  textDecoration: 'none',
                  fontWeight: 600,
                  fontSize: '1.2rem',
                  py: 1
                }}
              >
                Features
              </Typography>
              <Typography 
                component={RouterLink} 
                to="/about"
                sx={{ 
                  color: themeColors.text.primary,
                  textDecoration: 'none',
                  fontWeight: 600,
                  fontSize: '1.2rem',
                  py: 1
                }}
              >
                About
              </Typography>
              <Box sx={{ pt: 2 }}>
                <Button 
                  component={RouterLink} 
                  to="/login"
                  fullWidth
                  sx={{ 
                    fontWeight: 600,
                    color: themeColors.primary.main,
                    mb: 2,
                    py: 1.5,
                    border: `1px solid ${themeColors.primary.main}`,
                    borderRadius: '8px'
                  }}
                >
                  Log in
                </Button>
                <Button 
                  component={RouterLink} 
                  to="/register"
                  variant="contained"
                  fullWidth
                  sx={{ 
                    background: 'linear-gradient(45deg, #2563EB, #3B82F6)',
                    fontWeight: 600,
                    borderRadius: '8px',
                    py: 1.5,
                    boxShadow: '0 4px 14px rgba(37, 99, 235, 0.4)',
                    textTransform: 'none'
                  }}
                >
                  Sign up free
                </Button>
              </Box>
            </Box>
          </Container>
        </Box>
      )}
    </Box>
  );
};

// Enhanced How It Works Component
const HowItWorksSection = () => {
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));

  return (
    <Box 
      sx={{ 
        py: { xs: 10, md: 16 }, 
        position: 'relative',
        overflow: 'hidden',
        bgcolor: '#F9FAFB'
      }}
      id="how-it-works"
    >
      {/* Background decorative elements */}
      <Box 
        sx={{
          position: 'absolute',
          width: '300px',
          height: '300px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(37,99,235,0.1) 0%, rgba(37,99,235,0) 70%)',
          top: '5%',
          left: '-100px',
          zIndex: 0
        }}
      />
      <Box 
        sx={{
          position: 'absolute',
          width: '400px',
          height: '400px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(59,130,246,0.08) 0%, rgba(59,130,246,0) 70%)',
          bottom: '10%',
          right: '-150px',
          zIndex: 0
        }}
      />

      <Container maxWidth="lg" sx={{ position: 'relative', zIndex: 1 }}>
        <Box 
          sx={{ textAlign: 'center', mb: 10 }}
          data-aos="fade-up"
        >
          <Typography 
            component="span"
            sx={{
              display: 'block',
              textTransform: 'uppercase',
              color: themeColors.primary.main,
              fontWeight: 700,
              fontSize: '0.875rem',
              letterSpacing: '0.1em',
              mb: 2
            }}
          >
            Getting Started
          </Typography>
          <Typography 
            variant="h2" 
            component="h2" 
            sx={{ 
              fontWeight: 800,
              mb: 3,
              background: 'linear-gradient(90deg, #2563EB, #60A5FA)',
              backgroundClip: 'text',
              WebkitBackgroundClip: 'text',
              WebkitTextFillColor: 'transparent',
              display: 'inline-block',
              fontSize: { xs: '2.5rem', md: '3.5rem' },
              letterSpacing: '-0.02em',
              lineHeight: 1.2
            }}
          >
            How It Works
          </Typography>
          <Typography 
            variant="h6" 
            sx={{ 
              color: themeColors.text.secondary,
              maxWidth: '700px',
              mx: 'auto',
              px: 2,
              fontSize: { xs: '1rem', md: '1.25rem' },
              fontWeight: 400,
              lineHeight: 1.6
            }}
          >
            Start managing your expenses in three simple steps
          </Typography>
        </Box>
        
        {/* Modern Timeline with updated design */}
        <Box 
          sx={{ 
            position: 'relative',
            maxWidth: '900px',
            mx: 'auto',
            pb: 5,
            pt: 2
          }}
        >
          {/* Center line */}
          {!isMobile && (
            <Box
              sx={{
                position: 'absolute',
                height: '100%',
                width: '3px',
                background: 'linear-gradient(180deg, rgba(37,99,235,0.2) 0%, rgba(37,99,235,0.6) 50%, rgba(37,99,235,0.2) 100%)',
                left: '50%',
                transform: 'translateX(-50%)',
                top: 0,
                zIndex: 1,
                '&::after': {
                  content: '""',
                  position: 'absolute',
                  height: '60%',
                  width: '3px',
                  background: 'linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%)',
                  left: 0,
                  top: '20%',
                  animation: 'line-shine 3s infinite linear'
                }
              }}
            />
          )}

          {/* Step 1 */}
          <Box
            sx={{
              display: 'flex',
              flexDirection: { xs: 'column', md: 'row' },
              width: '100%',
              justifyContent: 'center',
              mb: { xs: 8, md: 10 },
              position: 'relative'
            }}
          >
            {/* Content Card - Left Side */}
            <Box
              sx={{
                width: { xs: '100%', md: '45%' },
                pr: { xs: 0, md: 4 },
                display: 'flex',
                justifyContent: { xs: 'center', md: 'flex-end' },
                alignItems: 'center',
                mb: { xs: 4, md: 0 }
              }}
              data-aos="fade-right"
              data-aos-duration="800"
            >
              <Box
                sx={{
                  bgcolor: 'white',
                  borderRadius: '1rem',
                  boxShadow: '0 10px 30px rgba(0, 0, 0, 0.05), 0 5px 15px rgba(0, 0, 0, 0.03)',
                  p: 4,
                  textAlign: { xs: 'center', md: 'right' },
                  maxWidth: '320px',
                  width: '100%',
                  position: 'relative',
                  transition: 'all 0.3s ease-in-out',
                  '&:hover': {
                    transform: 'translateY(-5px)',
                    boxShadow: '0 15px 35px rgba(0, 0, 0, 0.08), 0 10px 20px rgba(0, 0, 0, 0.05)'
                  },
                  '&:after': {
                    content: '""',
                    position: 'absolute',
                    top: '50%',
                    right: { xs: '50%', md: '-15px' },
                    bottom: { xs: '-15px', md: 'auto' },
                    transform: { 
                      xs: 'translateX(50%) rotate(45deg)', 
                      md: 'translateY(-50%) rotate(45deg)' 
                    },
                    width: '30px',
                    height: '30px',
                    bgcolor: 'white',
                    zIndex: 0,
                    borderRadius: '3px',
                    boxShadow: '6px -6px 10px rgba(0, 0, 0, 0.02)',
                    display: { xs: 'none', md: 'block' }
                  }
                }}
              >
                <Typography 
                  variant="h5" 
                  component="h3" 
                  color="primary"
                  sx={{ 
                    fontWeight: 700, 
                    mb: 2, 
                    fontSize: { xs: '1.4rem', md: '1.6rem' },
                    position: 'relative',
                    color: themeColors.primary.main,
                    '&:after': {
                      content: '""',
                      position: 'absolute',
                      bottom: '-8px',
                      right: { xs: '50%', md: 0 },
                      left: { xs: '50%', md: 'auto' },
                      transform: { xs: 'translateX(-50%)', md: 'none' },
                      width: '60px',
                      height: '3px',
                      background: 'linear-gradient(90deg, rgba(37,99,235,0.5), rgba(37,99,235,1))'
                    }
                  }}
                >
                  Create an Account
                </Typography>
                <Typography 
                  variant="body1"
                  sx={{ 
                    fontSize: '1rem', 
                    color: themeColors.text.secondary,
                    lineHeight: 1.6
                  }}
                >
                  Sign up in seconds with your email or Google account. No credit card required.
                </Typography>
              </Box>
            </Box>

            {/* Circle with number - modern styling */}
            <Box
              sx={{
                width: { xs: '100%', md: '10%' },
                display: 'flex',
                justifyContent: 'center',
                alignItems: 'center',
                position: 'relative',
                zIndex: 5,
                order: { xs: -1, md: 0 },
                mb: { xs: 4, md: 0 }
              }}
            >
              <Box 
                sx={{ 
                  width: { xs: '60px', md: '70px' },
                  height: { xs: '60px', md: '70px' },
                  display: 'flex',
                  justifyContent: 'center',
                  alignItems: 'center',
                  position: 'relative'
                }}
                data-aos="zoom-in"
                data-aos-delay="200"
                data-aos-duration="600"
              >
                {/* Outer ring with glow effect */}
                <Box
                  sx={{
                    position: 'absolute',
                    width: '100%',
                    height: '100%',
                    borderRadius: '50%',
                    background: 'rgba(37,99,235,0.1)',
                    animation: 'pulse 2s infinite'
                  }}
                />
                
                {/* Inner circle */}
                <Box
                  sx={{
                    width: '85%',
                    height: '85%',
                    borderRadius: '50%',
                    background: 'linear-gradient(135deg, #2563EB, #3B82F6)',
                    display: 'flex',
                    justifyContent: 'center',
                    alignItems: 'center',
                    color: 'white',
                    fontWeight: 800,
                    fontSize: { xs: '1.6rem', md: '1.8rem' },
                    boxShadow: '0 10px 20px rgba(37,99,235,0.3)',
                    border: '3px solid rgba(255,255,255,0.8)',
                    zIndex: 2
                  }}
                >
                  1
                </Box>
              </Box>
            </Box>

            {/* Empty space on right for first step */}
            <Box sx={{ width: { xs: '100%', md: '45%' } }} />
          </Box>

          {/* Step 2 */}
          <Box
            sx={{
              display: 'flex',
              flexDirection: { xs: 'column', md: 'row' },
              width: '100%',
              justifyContent: 'center',
              mb: { xs: 8, md: 10 },
              position: 'relative'
            }}
          >
            {/* Empty space on left for second step */}
            <Box sx={{ width: { xs: '100%', md: '45%' }, order: { xs: 1, md: 0 } }} />

            {/* Circle with number - modern styling */}
            <Box
              sx={{
                width: { xs: '100%', md: '10%' },
                display: 'flex',
                justifyContent: 'center',
                alignItems: 'center',
                position: 'relative',
                zIndex: 5,
                order: { xs: -1, md: 1 },
                mb: { xs: 4, md: 0 }
              }}
            >
              <Box 
                sx={{ 
                  width: { xs: '60px', md: '70px' },
                  height: { xs: '60px', md: '70px' },
                  display: 'flex',
                  justifyContent: 'center',
                  alignItems: 'center',
                  position: 'relative'
                }}
                data-aos="zoom-in"
                data-aos-delay="300"
                data-aos-duration="600"
              >
                {/* Outer ring with glow effect */}
                <Box
                  sx={{
                    position: 'absolute',
                    width: '100%',
                    height: '100%',
                    borderRadius: '50%',
                    background: 'rgba(37,99,235,0.1)',
                    animation: 'pulse 2s infinite',
                    animationDelay: '0.5s'
                  }}
                />
                
                {/* Inner circle */}
                <Box
                  sx={{
                    width: '85%',
                    height: '85%',
                    borderRadius: '50%',
                    background: 'linear-gradient(135deg, #2563EB, #3B82F6)',
                    display: 'flex',
                    justifyContent: 'center',
                    alignItems: 'center',
                    color: 'white',
                    fontWeight: 800,
                    fontSize: { xs: '1.6rem', md: '1.8rem' },
                    boxShadow: '0 10px 20px rgba(37,99,235,0.3)',
                    border: '3px solid rgba(255,255,255,0.8)',
                    zIndex: 2
                  }}
                >
                  2
                </Box>
              </Box>
            </Box>

            {/* Content Card - Right Side */}
            <Box
              sx={{
                width: { xs: '100%', md: '45%' },
                pl: { xs: 0, md: 4 },
                display: 'flex',
                justifyContent: { xs: 'center', md: 'flex-start' },
                alignItems: 'center',
                order: { xs: 0, md: 2 },
                mb: { xs: 4, md: 0 }
              }}
              data-aos="fade-left"
              data-aos-duration="800"
            >
              <Box
                sx={{
                  bgcolor: 'white',
                  borderRadius: '1rem',
                  boxShadow: '0 10px 30px rgba(0, 0, 0, 0.05), 0 5px 15px rgba(0, 0, 0, 0.03)',
                  p: 4,
                  textAlign: { xs: 'center', md: 'left' },
                  maxWidth: '320px',
                  width: '100%',
                  position: 'relative',
                  transition: 'all 0.3s ease-in-out',
                  '&:hover': {
                    transform: 'translateY(-5px)',
                    boxShadow: '0 15px 35px rgba(0, 0, 0, 0.08), 0 10px 20px rgba(0, 0, 0, 0.05)'
                  },
                  '&:before': {
                    content: '""',
                    position: 'absolute',
                    top: '50%',
                    left: { xs: '50%', md: '-15px' },
                    bottom: { xs: '-15px', md: 'auto' },
                    transform: { 
                      xs: 'translateX(-50%) rotate(45deg)', 
                      md: 'translateY(-50%) rotate(45deg)' 
                    },
                    width: '30px',
                    height: '30px',
                    bgcolor: 'white',
                    zIndex: 0,
                    borderRadius: '3px',
                    boxShadow: '-6px 6px 10px rgba(0, 0, 0, 0.02)',
                    display: { xs: 'none', md: 'block' }
                  }
                }}
              >
                <Typography 
                  variant="h5" 
                  component="h3" 
                  color="primary"
                  sx={{ 
                    fontWeight: 700, 
                    mb: 2, 
                    fontSize: { xs: '1.4rem', md: '1.6rem' },
                    position: 'relative',
                    color: themeColors.primary.main,
                    '&:after': {
                      content: '""',
                      position: 'absolute',
                      bottom: '-8px',
                      left: { xs: '50%', md: 0 },
                      right: { xs: '50%', md: 'auto' },
                      transform: { xs: 'translateX(-50%)', md: 'none' },
                      width: '60px',
                      height: '3px',
                      background: 'linear-gradient(90deg, rgba(37,99,235,1), rgba(37,99,235,0.5))'
                    }
                  }}
                >
                  Set Up Categories
                </Typography>
                <Typography 
                  variant="body1"
                  sx={{ 
                    fontSize: '1rem', 
                    color: themeColors.text.secondary,
                    lineHeight: 1.6
                  }}
                >
                  Create custom categories with personalized color coding for different types of expenses.
                </Typography>
              </Box>
            </Box>
          </Box>

          {/* Step 3 */}
          <Box
            sx={{
              display: 'flex',
              flexDirection: { xs: 'column', md: 'row' },
              width: '100%',
              justifyContent: 'center',
              position: 'relative'
            }}
          >
            {/* Content Card - Left Side */}
            <Box
              sx={{
                width: { xs: '100%', md: '45%' },
                pr: { xs: 0, md: 4 },
                display: 'flex',
                justifyContent: { xs: 'center', md: 'flex-end' },
                alignItems: 'center',
                mb: { xs: 4, md: 0 }
              }}
              data-aos="fade-right"
              data-aos-duration="800"
            >
              <Box
                sx={{
                  bgcolor: 'white',
                  borderRadius: '1rem',
                  boxShadow: '0 10px 30px rgba(0, 0, 0, 0.05), 0 5px 15px rgba(0, 0, 0, 0.03)',
                  p: 4,
                  textAlign: { xs: 'center', md: 'right' },
                  maxWidth: '320px',
                  width: '100%',
                  position: 'relative',
                  transition: 'all 0.3s ease-in-out',
                  '&:hover': {
                    transform: 'translateY(-5px)',
                    boxShadow: '0 15px 35px rgba(0, 0, 0, 0.08), 0 10px 20px rgba(0, 0, 0, 0.05)'
                  },
                  '&:after': {
                    content: '""',
                    position: 'absolute',
                    top: '50%',
                    right: { xs: '50%', md: '-15px' },
                    bottom: { xs: '-15px', md: 'auto' },
                    transform: { 
                      xs: 'translateX(50%) rotate(45deg)', 
                      md: 'translateY(-50%) rotate(45deg)' 
                    },
                    width: '30px',
                    height: '30px',
                    bgcolor: 'white',
                    zIndex: 0,
                    borderRadius: '3px',
                    boxShadow: '6px -6px 10px rgba(0, 0, 0, 0.02)',
                    display: { xs: 'none', md: 'block' }
                  }
                }}
              >
                <Typography 
                  variant="h5" 
                  component="h3" 
                  color="primary"
                  sx={{ 
                    fontWeight: 700, 
                    mb: 2, 
                    fontSize: { xs: '1.4rem', md: '1.6rem' },
                    position: 'relative',
                    color: themeColors.primary.main,
                    '&:after': {
                      content: '""',
                      position: 'absolute',
                      bottom: '-8px',
                      right: { xs: '50%', md: 0 },
                      left: { xs: '50%', md: 'auto' },
                      transform: { xs: 'translateX(-50%)', md: 'none' },
                      width: '60px',
                      height: '3px',
                      background: 'linear-gradient(90deg, rgba(37,99,235,0.5), rgba(37,99,235,1))'
                    }
                  }}
                >
                  Track Your Spending
                </Typography>
                <Typography 
                  variant="body1"
                  sx={{ 
                    fontSize: '1rem', 
                    color: themeColors.text.secondary,
                    lineHeight: 1.6
                  }}
                >
                  Record expenses and visualize your habits with our beautiful interactive charts and analytics.
                </Typography>
              </Box>
            </Box>

            {/* Circle with number - modern styling */}
            <Box
              sx={{
                width: { xs: '100%', md: '10%' },
                display: 'flex',
                justifyContent: 'center',
                alignItems: 'center',
                position: 'relative',
                zIndex: 5,
                order: { xs: -1, md: 0 },
                mb: { xs: 4, md: 0 }
              }}
            >
              <Box 
                sx={{ 
                  width: { xs: '60px', md: '70px' },
                  height: { xs: '60px', md: '70px' },
                  display: 'flex',
                  justifyContent: 'center',
                  alignItems: 'center',
                  position: 'relative'
                }}
                data-aos="zoom-in"
                data-aos-delay="400"
                data-aos-duration="600"
              >
                {/* Outer ring with glow effect */}
                <Box
                  sx={{
                    position: 'absolute',
                    width: '100%',
                    height: '100%',
                    borderRadius: '50%',
                    background: 'rgba(37,99,235,0.1)',
                    animation: 'pulse 2s infinite',
                    animationDelay: '1s'
                  }}
                />
                
                {/* Inner circle */}
                <Box
                  sx={{
                    width: '85%',
                    height: '85%',
                    borderRadius: '50%',
                    background: 'linear-gradient(135deg, #2563EB, #3B82F6)',
                    display: 'flex',
                    justifyContent: 'center',
                    alignItems: 'center',
                    color: 'white',
                    fontWeight: 800,
                    fontSize: { xs: '1.6rem', md: '1.8rem' },
                    boxShadow: '0 10px 20px rgba(37,99,235,0.3)',
                    border: '3px solid rgba(255,255,255,0.8)',
                    zIndex: 2
                  }}
                >
                  3
                </Box>
              </Box>
            </Box>

            {/* Empty space on right for third step */}
            <Box sx={{ width: { xs: '100%', md: '45%' } }} />
          </Box>
        </Box>
        
        <Box 
          sx={{ textAlign: 'center', mt: 10 }}
          data-aos="fade-up"
          data-aos-delay="400"
        >
          <Button 
            component={RouterLink}
            to="/register"
            variant="contained" 
            color="primary" 
            size="large"
            sx={{ 
              px: 5, 
              py: 1.8,
              borderRadius: '12px',
              background: 'linear-gradient(45deg, #2563EB, #3B82F6)',
              boxShadow: '0 10px 30px rgba(37, 99, 235, 0.3), inset 0 1px 0 rgba(255,255,255,0.3)',
              '&:hover': {
                background: 'linear-gradient(45deg, #1D4ED8, #2563EB)',
                boxShadow: '0 15px 40px rgba(37, 99, 235, 0.4), inset 0 1px 0 rgba(255,255,255,0.4)',
                transform: 'translateY(-2px)'
              },
              transition: 'all 0.3s ease',
              fontSize: '1.1rem',
              fontWeight: 600,
              textTransform: 'none',
              minHeight: { xs: '54px', md: 'auto' }
            }}
            className="pulse-animation"
            endIcon={<ArrowForwardIcon />}
          >
            Start Tracking Now
          </Button>
        </Box>
      </Container>

      {/* Custom CSS animations */}
      <style jsx global>{`
        @keyframes pulse {
          0% {
            opacity: 0.6;
            transform: scale(0.9);
          }
          50% {
            opacity: 0.3;
            transform: scale(1.1);
          }
          100% {
            opacity: 0.6;
            transform: scale(0.9);
          }
        }
        
        @keyframes line-shine {
          0% {
            transform: translateY(-100%);
          }
          100% {
            transform: translateY(100%);
          }
        }
      `}</style>
    </Box>
  );
};

// Features Section with more visual appeal
const FeaturesSection = () => {
  return (
    <Box 
      sx={{ 
        py: { xs: 10, md: 14 }, 
        bgcolor: '#FFFFFF',
      }}
    >
      <Container maxWidth="lg">
        <Box 
          sx={{ textAlign: 'center', mb: 8 }}
          data-aos="fade-up"
        >
          <Typography 
            component="span"
            sx={{
              display: 'block',
              textTransform: 'uppercase',
              color: themeColors.primary.main,
              fontWeight: 700,
              fontSize: '0.875rem',
              letterSpacing: '0.1em',
              mb: 2
            }}
          >
            What We Offer
          </Typography>
          <Typography 
            variant="h2" 
            component="h2" 
            sx={{ 
              fontWeight: 800,
              mb: 3,
              fontSize: { xs: '2.5rem', md: '3.5rem' },
              letterSpacing: '-0.02em',
              lineHeight: 1.2,
              color: themeColors.text.primary
            }}
          >
            Powerful Features
          </Typography>
          <Typography 
            variant="h6" 
            sx={{ 
              color: themeColors.text.secondary,
              maxWidth: '700px',
              mx: 'auto',
              px: 2,
              fontSize: { xs: '1rem', md: '1.25rem' },
              fontWeight: 400,
              lineHeight: 1.6
            }}
          >
            Everything you need to manage your finances in one place
          </Typography>
        </Box>
        
        <Grid container spacing={4}>
          {features.map((feature, index) => (
            <Grid item xs={12} sm={6} md={4} key={index}>
              <Card 
                data-aos="zoom-in"
                data-aos-delay={index * 100}
                sx={{ 
                  height: '100%',
                  display: 'flex',
                  flexDirection: 'column',
                  transition: 'all 0.3s ease',
                  borderRadius: '1rem',
                  overflow: 'hidden',
                  border: '1px solid rgba(0,0,0,0.05)',
                  boxShadow: '0 10px 20px rgba(0,0,0,0.03)',
                  '&:hover': {
                    transform: 'translateY(-10px)',
                    boxShadow: '0 20px 40px rgba(0,0,0,0.08)'
                  }
                }}
              >
                <CardContent sx={{ flexGrow: 1, p: 4 }}>
                  <Box 
                    sx={{ 
                      display: 'inline-flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      mb: 3,
                      borderRadius: '16px',
                      p: 1.5,
                      background: feature.color,
                    }}
                  >
                    {feature.icon}
                  </Box>
                  <Typography 
                    variant="h5" 
                    component="div" 
                    sx={{ 
                      fontWeight: 700,
                      mb: 2,
                      color: themeColors.text.primary
                    }}
                  >
                    {feature.title}
                  </Typography>
                  <Typography 
                    variant="body1" 
                    sx={{ 
                      color: themeColors.text.secondary,
                      lineHeight: 1.7
                    }}
                  >
                    {feature.description}
                  </Typography>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>
    </Box>
  );
};

// CTA section with more modern design
const CTASection = () => {
  return (
    <Box 
      sx={{ 
        py: { xs: 10, md: 14 }, 
        position: 'relative',
        overflow: 'hidden',
        background: 'linear-gradient(135deg, #1E40AF, #3B82F6)',
        color: 'white'
      }}
    >
      {/* Background design elements */}
      <Box 
        sx={{
          position: 'absolute',
          width: '500px',
          height: '500px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)',
          top: '-250px',
          right: '-100px',
          zIndex: 0
        }}
      />
      <Box 
        sx={{
          position: 'absolute',
          width: '300px',
          height: '300px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)',
          bottom: '-150px',
          left: '10%',
          zIndex: 0
        }}
      />
      <Box 
        sx={{
          position: 'absolute',
          width: '200px',
          height: '200px',
          borderRadius: '50%',
          background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)',
          top: '20%',
          left: '5%',
          zIndex: 0
        }}
      />
      
      <Container maxWidth="lg" sx={{ position: 'relative', zIndex: 1 }}>
        <Grid container spacing={4} alignItems="center">
          <Grid item xs={12} md={7} data-aos="fade-right">
            <Typography 
              variant="h2" 
              sx={{ 
                fontWeight: 800,
                mb: 3,
                fontSize: { xs: '2.5rem', md: '3.5rem' },
                lineHeight: 1.2
              }}
            >
              Ready to Transform Your Financial Habits?
            </Typography>
            <Typography 
              variant="h6" 
              sx={{ 
                fontWeight: 400,
                mb: 5,
                opacity: 0.9,
                maxWidth: '600px',
                fontSize: { xs: '1.1rem', md: '1.25rem' },
                lineHeight: 1.6
              }}
            >
              Join thousands of users who are already saving more, spending smarter, and reaching their financial goals.
            </Typography>
            
            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2 }}>
              <Button 
                component={RouterLink}
                to="/register"
                variant="contained" 
                size="large"
                sx={{ 
                  bgcolor: 'white',
                  color: themeColors.primary.main,
                  px: 4,
                  py: 1.5,
                  borderRadius: '10px',
                  fontWeight: 600,
                  fontSize: '1rem',
                  textTransform: 'none',
                  boxShadow: '0 10px 20px rgba(0,0,0,0.1)',
                  '&:hover': {
                    bgcolor: 'rgba(255,255,255,0.9)',
                    transform: 'translateY(-3px)',
                    boxShadow: '0 15px 30px rgba(0,0,0,0.15)'
                  },
                  transition: 'all 0.3s ease'
                }}
                endIcon={<ArrowForwardIcon />}
              >
                Sign up for free
              </Button>
            </Box>
            
            <Box sx={{ mt: 6, display: 'flex', alignItems: 'center' }}>
              <Box sx={{ display: 'flex', alignItems: 'center' }}>
                <Box
                  sx={{
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                  }}
                >
                  {[...Array(5)].map((_, i) => (
                    <Box key={i} sx={{ color: '#F59E0B', fontSize: '1.2rem', mr: 0.2 }}>★</Box>
                  ))}
                </Box>
                <Typography sx={{ ml: 1, fontWeight: 700 }}>
                  4.9/5 rating
                </Typography>
              </Box>
              <Divider orientation="vertical" sx={{ mx: 3, height: 24, borderColor: 'rgba(255,255,255,0.3)' }} />
              <Typography>
                <strong>10,000+</strong> happy users
              </Typography>
            </Box>
          </Grid>
          
          <Grid item xs={12} md={5} data-aos="fade-left">
            {/* Decorative elements */}
            <Box
              sx={{
                position: 'relative',
                height: { xs: '300px', md: '400px' },
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
              }}
            >
              {/* Main circle */}
              <Box
                sx={{
                  width: '280px',
                  height: '280px',
                  borderRadius: '50%',
                  background: 'rgba(255,255,255,0.1)',
                  backdropFilter: 'blur(10px)',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  position: 'relative',
                  boxShadow: '0 15px 35px rgba(0,0,0,0.1)',
                  border: '1px solid rgba(255,255,255,0.2)',
                  animation: 'float 6s infinite alternate ease-in-out'
                }}
              >
                <SavingsIcon sx={{ fontSize: '100px', color: 'white', opacity: 0.8 }} />
                
                {/* Orbiting elements */}
                <Box
                  sx={{
                    position: 'absolute',
                    width: '60px',
                    height: '60px',
                    borderRadius: '50%',
                    background: 'rgba(255,255,255,0.15)',
                    backdropFilter: 'blur(5px)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    top: '0',
                    left: '50%',
                    transform: 'translateX(-50%) translateY(-50%)',
                    boxShadow: '0 5px 15px rgba(0,0,0,0.1)',
                    border: '1px solid rgba(255,255,255,0.2)',
                    animation: 'float 4s infinite alternate-reverse ease-in-out'
                  }}
                >
                  <ChartIcon sx={{ fontSize: '30px', color: 'white' }} />
                </Box>
                
                <Box
                  sx={{
                    position: 'absolute',
                    width: '70px',
                    height: '70px',
                    borderRadius: '50%',
                    background: 'rgba(255,255,255,0.15)',
                    backdropFilter: 'blur(5px)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    bottom: '10%',
                    right: '-10%',
                    boxShadow: '0 5px 15px rgba(0,0,0,0.1)',
                    border: '1px solid rgba(255,255,255,0.2)',
                    animation: 'float 5s infinite alternate ease-in-out',
                    animationDelay: '1s'
                  }}
                >
                  <CategoryIcon sx={{ fontSize: '35px', color: 'white' }} />
                </Box>
                
                <Box
                  sx={{
                    position: 'absolute',
                    width: '50px',
                    height: '50px',
                    borderRadius: '50%',
                    background: 'rgba(255,255,255,0.15)',
                    backdropFilter: 'blur(5px)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    bottom: '20%',
                    left: '-15%',
                    boxShadow: '0 5px 15px rgba(0,0,0,0.1)',
                    border: '1px solid rgba(255,255,255,0.2)',
                    animation: 'float 3.5s infinite alternate-reverse ease-in-out',
                    animationDelay: '0.5s'
                  }}
                >
                  <CreditCardIcon sx={{ fontSize: '25px', color: 'white' }} />
                </Box>
              </Box>
            </Box>
          </Grid>
        </Grid>
      </Container>
    </Box>
  );
};

// Modern Team Section
const TeamSection = () => {
  return (
    <Box sx={{ py: { xs: 10, md: 14 }, bgcolor: themeColors.background.default }}>
      <Container maxWidth="lg">
        <Box 
          sx={{ textAlign: 'center', mb: 8 }}
          data-aos="fade-up"
        >
          <Typography 
            component="span"
            sx={{
              display: 'block',
              textTransform: 'uppercase',
              color: themeColors.primary.main,
              fontWeight: 700,
              fontSize: '0.875rem',
              letterSpacing: '0.1em',
              mb: 2
            }}
          >
            Our Team
          </Typography>
          <Typography 
            variant="h2" 
            component="h2" 
            sx={{ 
              fontWeight: 800,
              mb: 3,
              fontSize: { xs: '2.5rem', md: '3.5rem' },
              letterSpacing: '-0.02em',
              lineHeight: 1.2,
              color: themeColors.text.primary
            }}
          >
            Meet The Developers
          </Typography>
          <Typography 
            variant="h6" 
            sx={{ 
              color: themeColors.text.secondary,
              maxWidth: '700px',
              mx: 'auto',
              px: 2,
              fontSize: { xs: '1rem', md: '1.25rem' },
              fontWeight: 400,
              lineHeight: 1.6
            }}
          >
            The talented team behind the Expense Tracker application
          </Typography>
        </Box>
        
        {/* Enhanced developer cards with better image display */}
        <Grid container spacing={8} justifyContent="center">
          {developers.map((developer, index) => (
            <Grid item xs={12} md={6} key={index}>
              <Card 
                data-aos="fade-up"
                data-aos-delay={index * 200}
                sx={{ 
                  display: 'flex',
                  flexDirection: { xs: 'column', md: 'row' },
                  height: '100%',
                  borderRadius: '1.5rem',
                  boxShadow: '0 10px 30px rgba(0,0,0,0.05)',
                  transition: 'all 0.3s ease',
                  overflow: 'visible',
                  position: 'relative',
                  pb: { xs: 0, md: 0 },
                  '&:hover': {
                    transform: 'translateY(-10px)',
                    boxShadow: '0 20px 40px rgba(0,0,0,0.1)'
                  },
                  '&:hover .developer-image': {
                    transform: 'scale(1.05)'
                  }
                }}
              >
                {/* Improved image display - separate from card to allow full visibility */}
                <Box
                  sx={{
                    width: { xs: '100%', md: '45%' },
                    display: 'flex',
                    justifyContent: 'center',
                    alignItems: 'center',
                    position: 'relative',
                    p: { xs: 3, md: 0 }
                  }}
                >
                  <Box
                    sx={{
                      width: { xs: '240px', md: '280px' },
                      height: { xs: '240px', md: '280px' },
                      borderRadius: '50%',
                      overflow: 'hidden',
                      border: `4px solid ${themeColors.primary.light}`,
                      boxShadow: '0 8px 25px rgba(37,99,235,0.15)',
                      mx: 'auto',
                      my: { xs: 2, md: 0 },
                      position: { xs: 'relative', md: 'absolute' },
                      left: { md: '-30px' },
                      background: themeColors.background.gradient,
                      zIndex: 2
                    }}
                  >
                    <img
                      className="developer-image"
                      src={developer.image}
                      alt={developer.name}
                      style={{
                        width: '100%',
                        height: '100%',
                        objectFit: 'cover',
                        objectPosition: 'center top', // Position to show face better
                        transition: 'transform 0.5s ease'
                      }}
                      onError={(e) => {
                        e.target.onerror = null;
                        e.target.src = `https://ui-avatars.com/api/?name=${developer.name.replace(' ', '+')}&size=280&background=random`;
                      }}
                    />
                  </Box>
                </Box>

                {/* Content section */}
                <CardContent 
                  sx={{ 
                    p: 4, 
                    pl: { md: 6 },
                    flexGrow: 1, 
                    display: 'flex', 
                    flexDirection: 'column',
                    width: { xs: '100%', md: '55%' },
                    ml: { md: 3 }
                  }}
                >
                  <Typography 
                    variant="h4" 
                    component="div" 
                    sx={{ 
                      fontWeight: 700,
                      mb: 1,
                      color: themeColors.text.primary,
                      fontSize: { xs: '1.75rem', md: '2rem' }
                    }}
                  >
                    {developer.name}
                  </Typography>
                  <Typography 
                    variant="subtitle1" 
                    sx={{ 
                      color: themeColors.primary.main,
                      mb: 3,
                      fontWeight: 600,
                      fontSize: { xs: '1.1rem', md: '1.25rem' },
                      display: 'flex',
                      alignItems: 'center',
                      '&:before': {
                        content: '""',
                        display: 'inline-block',
                        width: '30px',
                        height: '2px',
                        mr: 1.5,
                        bgcolor: themeColors.primary.main
                      }
                    }}
                  >
                    {developer.role}
                  </Typography>
                  <Typography 
                    variant="body1" 
                    sx={{ 
                      color: themeColors.text.secondary,
                      mb: 4,
                      lineHeight: 1.8,
                      flexGrow: 1,
                      fontSize: { xs: '0.95rem', md: '1rem' }
                    }}
                  >
                    {developer.bio}
                  </Typography>
                  <Stack direction="row" spacing={2}>
                    <Button 
                      variant="outlined" 
                      size="medium" 
                      startIcon={<GitHubIcon />}
                      href={developer.github}
                      target="_blank"
                      rel="noopener noreferrer"
                      sx={{ 
                        borderRadius: '12px',
                        borderColor: themeColors.primary.main,
                        borderWidth: '2px',
                        color: themeColors.primary.main,
                        px: 3,
                        py: 1,
                        fontWeight: 600,
                        '&:hover': {
                          borderColor: themeColors.primary.dark,
                          color: 'white',
                          bgcolor: themeColors.primary.main,
                          transform: 'translateY(-3px)',
                          boxShadow: '0 10px 20px rgba(37,99,235,0.15)'
                        },
                        transition: 'all 0.3s ease'
                      }}
                    >
                      GitHub
                    </Button>
                    <Button 
                      variant="contained" 
                      size="medium" 
                      startIcon={<LinkedInIcon />}
                      href={developer.linkedin}
                      target="_blank"
                      rel="noopener noreferrer"
                      sx={{ 
                        borderRadius: '12px',
                        background: themeColors.background.gradient,
                        color: 'white',
                        px: 3,
                        py: 1,
                        fontWeight: 600,
                        boxShadow: '0 8px 20px rgba(37,99,235,0.2)',
                        '&:hover': {
                          boxShadow: '0 12px 25px rgba(37,99,235,0.3)',
                          transform: 'translateY(-3px)'
                        },
                        transition: 'all 0.3s ease'
                      }}
                    >
                      LinkedIn
                    </Button>
                  </Stack>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>
    </Box>
  );
};

// Modern Footer
const Footer = () => {
  return (
    <Box 
      sx={{ 
        bgcolor: '#F1F5F9',
        pt: { xs: 8, md: 10 },
        pb: 4
      }}
    >
      <Container maxWidth="lg">
        <Grid container spacing={6}>
          <Grid item xs={12} md={4}>
            <Box sx={{ mb: 4 }}>
              <Box
                sx={{
                  display: 'flex',
                  alignItems: 'center',
                  mb: 2
                }}
              >
                <Box
                  sx={{
                    width: 40,
                    height: 40,
                    background: themeColors.background.gradient,
                    borderRadius: '10px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    boxShadow: '0 4px 10px rgba(37,99,235,0.2)',
                    mr: 1.5
                  }}
                >
                  <SavingsIcon sx={{ color: 'white' }} />
                </Box>
                <Typography 
                  variant="h5" 
                  sx={{ 
                    fontWeight: 800,
                    color: themeColors.text.primary,
                    fontSize: '1.5rem'
                  }}
                >
                  ExpenseTracker
                </Typography>
              </Box>
              <Typography 
                variant="body2" 
                sx={{ 
                  color: themeColors.text.secondary,
                  mb: 3,
                  maxWidth: '300px'
                }}
              >
                Modern, intuitive expense tracking application designed to help you manage your finances and achieve your financial goals.
              </Typography>
            </Box>
            
            <Box sx={{ mb: 2 }}>
              <Typography 
                variant="subtitle2" 
                sx={{ 
                  fontWeight: 700,
                  mb: 2,
                  color: themeColors.text.primary
                }}
              >
                Follow Us
              </Typography>
              <Box sx={{ display: 'flex', gap: 2 }}>
                <IconButton 
                  sx={{ 
                    bgcolor: 'rgba(37,99,235,0.1)',
                    '&:hover': { bgcolor: 'rgba(37,99,235,0.2)' }
                  }}
                >
                  <GitHubIcon sx={{ color: themeColors.primary.main }} />
                </IconButton>
                <IconButton 
                  sx={{ 
                    bgcolor: 'rgba(37,99,235,0.1)',
                    '&:hover': { bgcolor: 'rgba(37,99,235,0.2)' }
                  }}
                >
                  <LinkedInIcon sx={{ color: themeColors.primary.main }} />
                </IconButton>
              </Box>
            </Box>
          </Grid>
          
          <Grid item xs={12} sm={6} md={2}>
            <Typography 
              variant="subtitle2" 
              sx={{ 
                fontWeight: 700,
                mb: 3,
                color: themeColors.text.primary
              }}
            >
              Product
            </Typography>
            <Stack spacing={2}>
              <Typography 
                component={RouterLink}
                to="/features"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Features
              </Typography>
              <Typography 
                component={RouterLink}
                to="/testimonials"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Testimonials
              </Typography>
              <Typography 
                component={RouterLink}
                to="/roadmap"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Roadmap
              </Typography>
            </Stack>
          </Grid>
          
          <Grid item xs={12} sm={6} md={2}>
            <Typography 
              variant="subtitle2" 
              sx={{ 
                fontWeight: 700,
                mb: 3,
                color: themeColors.text.primary
              }}
            >
              Company
            </Typography>
            <Stack spacing={2}>
              <Typography 
                component={RouterLink}
                to="/about"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                About Us
              </Typography>
              <Typography 
                component={RouterLink}
                to="/team"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Team
              </Typography>
              <Typography 
                component={RouterLink}
                to="/careers"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Careers
              </Typography>
              <Typography 
                component={RouterLink}
                to="/contact"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Contact
              </Typography>
            </Stack>
          </Grid>
          
          <Grid item xs={12} sm={6} md={2}>
            <Typography 
              variant="subtitle2" 
              sx={{ 
                fontWeight: 700,
                mb: 3,
                color: themeColors.text.primary
              }}
            >
              Resources
            </Typography>
            <Stack spacing={2}>
              <Typography 
                component={RouterLink}
                to="/blog"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Blog
              </Typography>
              <Typography 
                component={RouterLink}
                to="/support"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Support
              </Typography>
              <Typography 
                component={RouterLink}
                to="/documentation"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Documentation
              </Typography>
              <Typography 
                component={RouterLink}
                to="/api"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                API
              </Typography>
            </Stack>
          </Grid>
          
          <Grid item xs={12} sm={6} md={2}>
            <Typography 
              variant="subtitle2" 
              sx={{ 
                fontWeight: 700,
                mb: 3,
                color: themeColors.text.primary
              }}
            >
              Legal
            </Typography>
            <Stack spacing={2}>
              <Typography 
                component={RouterLink}
                to="/privacy"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Privacy Policy
              </Typography>
              <Typography 
                component={RouterLink}
                to="/terms"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Terms of Service
              </Typography>
              <Typography 
                component={RouterLink}
                to="/cookies"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Cookie Policy
              </Typography>
              <Typography 
                component={RouterLink}
                to="/security"
                sx={{ 
                  color: themeColors.text.secondary,
                  textDecoration: 'none',
                  '&:hover': { color: themeColors.primary.main }
                }}
              >
                Security
              </Typography>
            </Stack>
          </Grid>
        </Grid>
        
        <Divider sx={{ my: 4, borderColor: 'rgba(0,0,0,0.1)' }} />
        
        <Box sx={{ display: 'flex', flexDirection: { xs: 'column', md: 'row' }, justifyContent: 'space-between', alignItems: { xs: 'flex-start', md: 'center' } }}>
          <Typography 
            variant="body2" 
            sx={{ 
              color: themeColors.text.secondary,
              mb: { xs: 2, md: 0 }
            }}
          >
            © {new Date().getFullYear()} ExpenseTracker. All rights reserved.
          </Typography>
          <Box sx={{ display: 'flex', gap: 3 }}>
            <Typography 
              variant="body2" 
              component={RouterLink}
              to="/privacy"
              sx={{ 
                color: themeColors.text.secondary,
                textDecoration: 'none',
                '&:hover': { color: themeColors.primary.main }
              }}
            >
              Privacy
            </Typography>
            <Typography 
              variant="body2" 
              component={RouterLink}
              to="/terms"
              sx={{ 
                color: themeColors.text.secondary,
                textDecoration: 'none',
                '&:hover': { color: themeColors.primary.main }
              }}
            >
              Terms
            </Typography>
            <Typography 
              variant="body2" 
              component={RouterLink}
              to="/sitemap"
              sx={{ 
                color: themeColors.text.secondary,
                textDecoration: 'none',
                '&:hover': { color: themeColors.primary.main }
              }}
            >
              Sitemap
            </Typography>
          </Box>
        </Box>
      </Container>
    </Box>
  );
};
            